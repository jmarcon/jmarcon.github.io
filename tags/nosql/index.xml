<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Nosql on Juliano Marcon</title>
    <link>https://jmarcon.github.io/tags/nosql/</link>
    <description>RSS in Nosql on Juliano Marcon</description>
    <generator>Juliano Marcon</generator>
    <language>pt-br</language>
    <managingEditor>contato@julianomarcon.com.br (Juliano Marcon)</managingEditor>
    <webMaster>contato@julianomarcon.com.br (Juliano Marcon)</webMaster>
    <lastBuildDate>Mon, 21 Mar 2016 17:19:15 -0300</lastBuildDate>
    <atom:link href="https://jmarcon.github.io/tags/nosql/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Node e Cassandra - Parte 2 : O mínimo do cassandra</title>
      <link>https://jmarcon.github.io/post/20160321-node-e-cassandra-parte2-o-minimo-do-cassandra/</link>
      <pubDate>Mon, 21 Mar 2016 17:19:15 -0500</pubDate>
      <author>contato@julianomarcon.com.br (Juliano Marcon)</author>
      <guid>https://jmarcon.github.io/post/20160321-node-e-cassandra-parte2-o-minimo-do-cassandra/</guid>
      <description>
        <img src="https://jmarcon.github.io/images/post/cassandra.png" alt="cassandra.png" />
        &lt;p&gt;Este é o segundo de três posts sobre como criar uma API utilizando o
&lt;a href=&#34;https://nodejs.org&#34;&gt;NodeJS&lt;/a&gt; e o &lt;a href=&#34;https://cassandra.apache.org&#34;&gt;Apache Cassandra&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Não vou discutir qual é o banco mais indicado para seu projeto, deixo aqui alguns
benchmarks encontrados na internet para que você possa tomar a decisão.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://www.planetcassandra.org/nosql-performance-benchmarks/&#34;&gt;Planet Cassandra&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://www.mongodb.com/blog/post/high-performance-benchmarking-mongodb-and-nosql-systems&#34;&gt;MongoDB&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://jaxenter.com/evaluating-nosql-performance-which-database-is-right-for-your-data-107481.html&#34;&gt;JaxEnter&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Neste momento, vamos preparar nossa base para receber os dados de nossa api. Para
nosso exemplo apenas armazenaremos dados simples de email e senha. Apenas focado
em uma autenticação simples.&lt;/p&gt;

&lt;p&gt;Com o Docker do Cassandra rodando como descrito no
&lt;a href=&#34;../Node-e-Cassandra-Parte1-Ambiente&#34;&gt;artigo anterior&lt;/a&gt;, vamos agora nos conectar
na base de dados.&lt;/p&gt;

&lt;p&gt;Se você criou as pastas como indicado, vamos iniciar o prompt do cassandra em uma
maquina docker temporaria, execute o comando abaixo:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;docker run -it --link cassandranode_cassandra_1:cassandra --rm cassandra sh -c &#39;exec cqlsh &amp;quot;$CASSANDRA_PORT_9042_TCP_ADDR&amp;quot;&#39;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;O termo  &lt;strong&gt;cassandranode_cassandra_1&lt;/strong&gt; encontrado no comando acima se refere
ao nome do Docker que esta rodando o cassandra no Kitematic.&lt;/p&gt;

&lt;p&gt;Desta forma, deve ver o prompt do cassandra rodando no terminal:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;cqlsh&amp;gt;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;A primeira coisa que faremos é criar o Keyspace. O Keyspace do cassandra é como
se fosse o Schema do banco de dados. É nesse espaço que criaremos nossa tabela
depois.&lt;/p&gt;

&lt;p&gt;Vamos criar o Keyspace:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;cqlsh&amp;gt; CREATE KEYSPACE demo
   ... WITH REPLICATION = {
   ... &#39;class&#39; : &#39;SimpleStrategy&#39;,
   ... &#39;replication_factor&#39; : 1
   ... };
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Os parametros passados para replicação não serão tratados aqui.&lt;/p&gt;

&lt;p&gt;Verifique se o Keyspace foi criado:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;cqlsh&amp;gt; DESC KEYSPACES;

demo   system_schema   system_auth   ...
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Defina o Keyspace que vamos trabalhar agora.&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;cqlsh&amp;gt; USE demo;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;E crie nossa tabela&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;cqlsh:demo&amp;gt; CREATE TABLE users (
        ... email text,
        ... password text,
        ... PRIMARY KEY (email)
        ... );
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Criamos nossa tabela, para ver que tudo esta no banco execute o comando:&lt;/p&gt;

&lt;pre&gt;&lt;code class=&#34;language-bash&#34;&gt;cqlsh:demo&amp;gt; DESC SCHEMA;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Desta forma deixamos nosso banco pronto para nosso exemplo de API em NodeJS
que será finalizado no próximo artigo.&lt;/p&gt;

      </description>
    </item>
    
  </channel>
</rss>
